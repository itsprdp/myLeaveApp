%h1 Edit Leave Form
.row
  .col-md-6.col-md-offset-3
    = form_for(@leave) do |f|
      = render 'shared/error_messages', object: f.object
      = f.label :start_date
      = f.date_field :start_date, id:'start_date' , class: 'form-control'
      = f.label :end_date
      = f.date_field :end_date, id:'end_date', class: 'form-control'
      = f.label :number_of_days
      = f.number_field :number_of_days,id:'days', class: 'form-control'
      = f.submit "Submit", class: "btn btn-primary"

:javascript
  $("#end_date").on("change",function(){
    UpdateNumberOfDays();
  });

  $("#start_date").on("change",function(){
    UpdateNumberOfDays();
  });

  function UpdateNumberOfDays() {
    var end_date = $("#end_date").val();
    var start_date = $("#start_date").val();
    if (start_date && end_date){
    $.ajax({
      type: "POST",
      url: "/number_of_days",
      data: { start_date: start_date, end_date: end_date } ,
      success: function(data){$("#days").val(data)}
    });
    }
  };
