%h1 Update your profile
- email_is_readonly = @user.email.present?
- joining_date_is_readonly = @user.joining_date.present? && !current_user.admin?

.row
  .col-md-6.col-md-offset-3
    = form_for(@user) do |f|
      = render 'shared/error_messages', object: f.object
      .form-group
        = f.label :name
        = f.text_field :name, class: 'form-control'
      .form-group
        = f.label :email
        = f.email_field :email, class: 'form-control', :readonly => email_is_readonly
      .form-group
        = f.label :joining_date
        = f.date_field :joining_date, class: 'form-control', required:'required', :readonly => joining_date_is_readonly
      .form-group
        = f.label 'Employee Id'
        = f.text_field :employee_id, class: 'form-control'
      .form-group
        = f.label :DOB
        = f.date_field :DOB, class: 'form-control'
      .form-group
        = f.label :fathers_name
        = f.text_field :fathers_name, class: 'form-control'
      .form-group
        = f.label :adhaar_number
        = f.text_field :adhaar_number, class: 'form-control'
      .form-group
        = f.label :PAN_number
        = f.text_field :PAN_number, class: 'form-control'
      .form-group
        = f.label :blood_group
        = f.text_field :blood_group, class: 'form-control'
      .form-group
        = f.label :emergency_contact_number
        = f.text_field :emergency_contact_number, class: 'form-control'
      - if current_user.admin?
        .form-group
          = f.label :leaving_date
          = f.date_field :leaving_date, class: 'form-control'
      = f.submit "Save changes", class: "btn btn-primary"
